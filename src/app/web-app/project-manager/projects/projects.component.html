<h1 class="text-center">Progetti</h1>

<div id="page">
  <table mat-table [dataSource]="projects">
    <ng-container matColumnDef="name">
      <th mat-header-cell *matHeaderCellDef>Nome</th>
      <td mat-cell *matCellDef="let project"> {{project.name}} </td>
    </ng-container>

    <ng-container matColumnDef="employees">
      <th mat-header-cell *matHeaderCellDef>Numero Dipendenti</th>
      <td mat-cell *matCellDef="let project"> {{project.employees.length }} </td>
    </ng-container>

    <ng-container matColumnDef="tasks">
      <th mat-header-cell *matHeaderCellDef>Numero Task</th>
      <td mat-cell *matCellDef="let project"> {{project.tasks.length }} </td>
    </ng-container>

    <ng-container matColumnDef="total_estimated_minutes">
      <th mat-header-cell *matHeaderCellDef>Tempo stimato</th>
      <td mat-cell *matCellDef="let project"> {{project.totalEstimatedMinutes  }} minuti</td>
    </ng-container>

    <ng-container matColumnDef="total_real_minutes">
      <th mat-header-cell *matHeaderCellDef>Tempo reale</th>
      <td mat-cell *matCellDef="let project"> {{project.totalRealMinutes  }} minuti</td>
    </ng-container>

    <ng-container matColumnDef="score">
      <th mat-header-cell *matHeaderCellDef>Efficienza</th>
      <td mat-cell *matCellDef="let project" [style]="{color: project.scoreToColor()}"><b>{{project.score}}%</b></td>
    </ng-container>

    <ng-container matColumnDef="go_to">
      <th mat-header-cell *matHeaderCellDef></th>
      <td mat-cell *matCellDef="let project">
        <button mat-icon-button [routerLink]="['../project', project.id]">
          <mat-icon>arrow_forward</mat-icon>
        </button>
      </td>
    </ng-container>


    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  </table>
</div>



