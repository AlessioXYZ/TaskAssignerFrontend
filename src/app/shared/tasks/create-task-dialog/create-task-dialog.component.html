<h2 mat-dialog-title>Crea Project Manager</h2>
<mat-dialog-content>
  <form [formGroup]="createTaskForm.form">
    <div class="row mb-3">
      <div class="col-md">
        <mat-form-field class="full-width">
          <mat-label>Titolo</mat-label>
          <input matInput type="text" id="name" formControlName="name" placeholder="Inserisci il titolo">
        </mat-form-field>
        <app-form-errors [form]="createTaskForm.form" field="name" verboseName="Titolo"></app-form-errors>
      </div>
    </div>
    <div class="row mb-3">
      <div class="col-md">
        <mat-form-field class="full-width">
          <mat-label>Descrizione</mat-label>
          <textarea matInput type="text" id="description" formControlName="description" placeholder="Inserisci la descrizione"></textarea>
        </mat-form-field>
        <app-form-errors [form]="createTaskForm.form" field="description" verboseName="Descrizione"></app-form-errors>
      </div>
    </div>
    <div class="row mb-3">
      <div class="col-md">
        <mat-form-field class="full-width">
          <mat-label>Progetto</mat-label>
          <mat-select formControlName="project">
            <mat-option *ngIf="projects?.length === 0" [value]="null" disabled>Nessun progetto</mat-option>
            <mat-option *ngFor="let project of projects" [value]="project.id">{{project.name}}</mat-option>
          </mat-select>
        </mat-form-field>
        <app-form-errors [form]="createTaskForm.form" field="project" verboseName="Progetto"></app-form-errors>
      </div>
    </div>
    <div class="row mb-3">
      <div class="col-md">
        <mat-form-field class="full-width">
          <mat-label>Dipendenti</mat-label>
          <mat-select formControlName="employee">
            <mat-option *ngIf="employees?.length === 0" [value]="null" disabled>Nessun dipendente</mat-option>
            <mat-option *ngFor="let employee of employees" [value]="employee.id">{{employee.fullName}}</mat-option>
          </mat-select>
        </mat-form-field>
        <app-form-errors [form]="createTaskForm.form" field="project" verboseName="Progetto"></app-form-errors>
      </div>
    </div>

    <div class="row mb-3">
      <div class="col-md-6">
        <mat-form-field class="full-width">
          <mat-label>Minuti stimati</mat-label>
          <input matInput type="number" id="estimated_minutes" formControlName="estimated_minutes" placeholder="Inserisci i minuti stimati">
        </mat-form-field>
        <app-form-errors [form]="createTaskForm.form" field="estimated_minutes" verboseName="Stima"></app-form-errors>
      </div>
      <div class="col-md-6">
        <mat-form-field class="full-width">
          <mat-label>Data scadenza</mat-label>
          <input matInput [matDatepicker]="picker" id="due_date" formControlName="due_date" placeholder="Inserisci la data di scadenza">
          <mat-hint>MM/DD/YYYY</mat-hint>
          <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
          <mat-datepicker #picker></mat-datepicker>
        </mat-form-field>
        <app-form-errors [form]="createTaskForm.form" field="due_date" verboseName="Data scadenza"></app-form-errors>
      </div>
    </div>

  </form>
</mat-dialog-content>
<mat-dialog-actions align="end">
  <button mat-button mat-dialog-close>Cancella</button>
  <button mat-button (click)="createTask()">Crea</button>
</mat-dialog-actions>
